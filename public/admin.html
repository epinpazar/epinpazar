<!doctype html><html><head><meta charset="utf-8"/></head><body><h2>Admin Panel</h2><p>Admin token ile admin islemleri yapabilirsiniz.</p><input id="token" placeholder="Admin token"/><button id="load">Listele</button><div id="listings"></div><script>document.getElementById('load').addEventListener('click', async ()=>{const token=document.getElementById('token').value; if(!token) return alert('token'); const res = await fetch('/api/admin/listings', { headers:{ 'Authorization':'Bearer ' + token } }); const data = await res.json(); const wrap = document.getElementById('listings'); wrap.innerHTML=''; data.forEach(l=>{ const el = document.createElement('div'); el.innerHTML = `<strong>${l.title}</strong> - ${l.status} <button onclick="approve(${l.id})">Onayla</button> <button onclick="del(${l.id})">Sil</button>`; wrap.appendChild(el); });}); async function approve(id){ const token=document.getElementById('token').value; await fetch('/api/admin/listings/' + id + '/approve',{ method:'POST', headers:{ 'Authorization':'Bearer ' + token } }); alert('Onaylandi'); } async function del(id){ const token=document.getElementById('token').value; await fetch('/api/admin/listings/' + id, { method:'DELETE', headers:{ 'Authorization':'Bearer ' + token } }); alert('Silindi'); }</script></body></html>